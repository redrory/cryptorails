class HomeController < ApplicationController
  def index
    require 'net/http'
    require 'json'

    # @url = "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest?start=1&limit=10&convert=USD&CMC_PRO_API_KEY=1e52780b-7036-43cd-be95-524489cf9edd"
    # @uri = URI(@url)
    # @response = Net::HTTP.get(@uri)
    # @coins = JSON.parse(@response)
    # @coins = JSON.parse'{"status":{"timestamp":"2021-12-23T13:57:15.470Z","error_code":0,"error_message":null,"elapsed":19,"credit_count":1,"notice":null,"total_count":8507},"data":[{"id":1,"name":"Bitcoin","symbol":"BTC","slug":"bitcoin","num_market_pairs":8092,"date_added":"2013-04-28T00:00:00.000Z","tags":["mineable","pow","sha-256","store-of-value","state-channel","coinbase-ventures-portfolio","three-arrows-capital-portfolio","polychain-capital-portfolio","binance-labs-portfolio","blockchain-capital-portfolio","boostvc-portfolio","cms-holdings-portfolio","dcg-portfolio","dragonfly-capital-portfolio","electric-capital-portfolio","fabric-ventures-portfolio","framework-ventures-portfolio","galaxy-digital-portfolio","huobi-capital-portfolio","alameda-research-portfolio","a16z-portfolio","1confirmation-portfolio","winklevoss-capital-portfolio","usv-portfolio","placeholder-ventures-portfolio","pantera-capital-portfolio","multicoin-capital-portfolio","paradigm-portfolio"],"max_supply":21000000,"circulating_supply":18908731,"total_supply":18908731,"platform":null,"cmc_rank":1,"last_updated":"2021-12-23T13:57:02.000Z","quote":{"USD":{"price":48700.08670571529,"volume_24h":23370414013.91422,"volume_change_24h":-4.6178,"percent_change_1h":0.05869144,"percent_change_24h":0.2884507,"percent_change_7d":-0.47456754,"percent_change_30d":-14.09538687,"percent_change_60d":-19.59567676,"percent_change_90d":16.38024069,"market_cap":920856839195.0465,"market_cap_dominance":40.3736,"fully_diluted_market_cap":1022701820820.02,"last_updated":"2021-12-23T13:57:02.000Z"}}},{"id":1027,"name":"Ethereum","symbol":"ETH","slug":"ethereum","num_market_pairs":4509,"date_added":"2015-08-07T00:00:00.000Z","tags":["mineable","pow","smart-contracts","ethereum-ecosystem","binance-smart-chain","coinbase-ventures-portfolio","three-arrows-capital-portfolio","polychain-capital-portfolio","binance-labs-portfolio","blockchain-capital-portfolio","boostvc-portfolio","cms-holdings-portfolio","dcg-portfolio","dragonfly-capital-portfolio","electric-capital-portfolio","fabric-ventures-portfolio","framework-ventures-portfolio","hashkey-capital-portfolio","kenetic-capital-portfolio","huobi-capital-portfolio","alameda-research-portfolio","a16z-portfolio","1confirmation-portfolio","winklevoss-capital-portfolio","usv-portfolio","placeholder-ventures-portfolio","pantera-capital-portfolio","multicoin-capital-portfolio","paradigm-portfolio"],"max_supply":null,"circulating_supply":118857239.249,"total_supply":118857239.249,"platform":null,"cmc_rank":2,"last_updated":"2021-12-23T13:57:03.000Z","quote":{"USD":{"price":3954.2861770654595,"volume_24h":14282868531.189413,"volume_change_24h":1.0734,"percent_change_1h":0.17578568,"percent_change_24h":-0.11576389,"percent_change_7d":-2.86196259,"percent_change_30d":-5.2067786,"percent_change_60d":-2.34118514,"percent_change_90d":38.16285518,"market_cap":469995538206.4829,"market_cap_dominance":20.6026,"fully_diluted_market_cap":469995538206.48,"last_updated":"2021-12-23T13:57:03.000Z"}}},{"id":1839,"name":"Binance Coin","symbol":"BNB","slug":"binance-coin","num_market_pairs":543,"date_added":"2017-07-25T00:00:00.000Z","tags":["marketplace","centralized-exchange","payments","smart-contracts","binance-smart-chain","alameda-research-portfolio","multicoin-capital-portfolio"],"max_supply":166801148,"circulating_supply":166801148,"total_supply":166801148,"platform":null,"cmc_rank":3,"last_updated":"2021-12-23T13:56:09.000Z","quote":{"USD":{"price":530.3373267858606,"volume_24h":1757590297.7152948,"volume_change_24h":31.3129,"percent_change_1h":0.01797818,"percent_change_24h":0.00626793,"percent_change_7d":-2.22373859,"percent_change_30d":-9.66352058,"percent_change_60d":11.41971994,"percent_change_90d":53.04712727,"market_cap":88460874935.13269,"market_cap_dominance":3.8778,"fully_diluted_market_cap":88460874935.13,"last_updated":"2021-12-23T13:56:09.000Z"}}},{"id":825,"name":"Tether","symbol":"USDT","slug":"tether","num_market_pairs":20449,"date_added":"2015-02-25T00:00:00.000Z","tags":["payments","stablecoin","asset-backed-stablecoin","binance-smart-chain","avalanche-ecosystem","solana-ecosystem"],"max_supply":null,"circulating_supply":77346559654.69975,"total_supply":81508973034.53082,"platform":{"id":1027,"name":"Ethereum","symbol":"ETH","slug":"ethereum","token_address":"0xdac17f958d2ee523a2206206994597c13d831ec7"},"cmc_rank":4,"last_updated":"2021-12-23T13:56:11.000Z","quote":{"USD":{"price":1.0004633790223199,"volume_24h":59898737595.79149,"volume_change_24h":8.0173,"percent_change_1h":0.03291473,"percent_change_24h":0.03211268,"percent_change_7d":0.05245026,"percent_change_30d":0.04490649,"percent_change_60d":0.00963523,"percent_change_90d":-0.02729197,"market_cap":77382400427.89235,"market_cap_dominance":3.3919,"fully_diluted_market_cap":81546742582.77,"last_updated":"2021-12-23T13:56:11.000Z"}}},{"id":5426,"name":"Solana","symbol":"SOL","slug":"solana","num_market_pairs":196,"date_added":"2020-04-10T00:00:00.000Z","tags":["pos","platform","solana-ecosystem","cms-holdings-portfolio","kenetic-capital-portfolio","alameda-research-portfolio","multicoin-capital-portfolio","k300-ventures-portfolio"],"max_supply":null,"circulating_supply":308469801.7339759,"total_supply":511616946.142289,"platform":null,"cmc_rank":5,"last_updated":"2021-12-23T13:57:06.000Z","quote":{"USD":{"price":179.92860625007376,"volume_24h":1661999509.7775614,"volume_change_24h":-10.517,"percent_change_1h":0.37558774,"percent_change_24h":-2.18886633,"percent_change_7d":-3.73352093,"percent_change_30d":-15.75053826,"percent_change_60d":-5.56880582,"percent_change_90d":31.90012044,"market_cap":55502541496.230865,"market_cap_dominance":2.4329,"fully_diluted_market_cap":92054524053.3,"last_updated":"2021-12-23T13:57:06.000Z"}}},{"id":52,"name":"XRP","symbol":"XRP","slug":"xrp","num_market_pairs":604,"date_added":"2013-08-04T00:00:00.000Z","tags":["medium-of-exchange","enterprise-solutions","binance-chain","arrington-xrp-capital-portfolio","galaxy-digital-portfolio","a16z-portfolio","pantera-capital-portfolio"],"max_supply":100000000000,"circulating_supply":47247295769,"total_supply":99990075944,"platform":null,"cmc_rank":6,"last_updated":"2021-12-23T13:57:03.000Z","quote":{"USD":{"price":0.979432489879306,"volume_24h":4144525495.7794027,"volume_change_24h":17.7859,"percent_change_1h":0.56037821,"percent_change_24h":4.68303216,"percent_change_7d":17.77915002,"percent_change_30d":-6.10485841,"percent_change_60d":-9.77881982,"percent_change_90d":6.02045789,"market_cap":46275536535.095665,"market_cap_dominance":2.0285,"fully_diluted_market_cap":97943248987.93,"last_updated":"2021-12-23T13:57:03.000Z"}}},{"id":2010,"name":"Cardano","symbol":"ADA","slug":"cardano","num_market_pairs":290,"date_added":"2017-10-01T00:00:00.000Z","tags":["mineable","dpos","pos","platform","research","smart-contracts","staking","binance-smart-chain","cardano-ecosystem"],"max_supply":45000000000,"circulating_supply":33457362343.128,"total_supply":33886652523.427,"platform":null,"cmc_rank":7,"last_updated":"2021-12-23T13:56:11.000Z","quote":{"USD":{"price":1.3749166297624325,"volume_24h":1569221254.5204344,"volume_change_24h":5.7728,"percent_change_1h":0.81294156,"percent_change_24h":2.23664539,"percent_change_7d":5.08505982,"percent_change_30d":-22.57392099,"percent_change_60d":-35.24850621,"percent_change_90d":-37.78260869,"market_cap":46001083873.55407,"market_cap_dominance":2.0169,"fully_diluted_market_cap":61871248339.31,"last_updated":"2021-12-23T13:56:11.000Z"}}},{"id":3408,"name":"USD Coin","symbol":"USDC","slug":"usd-coin","num_market_pairs":1754,"date_added":"2018-10-08T00:00:00.000Z","tags":["medium-of-exchange","stablecoin","asset-backed-stablecoin","binance-smart-chain","fantom-ecosystem"],"max_supply":null,"circulating_supply":42368686704.39842,"total_supply":42368686704.39842,"platform":{"id":1027,"name":"Ethereum","symbol":"ETH","slug":"ethereum","token_address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"},"cmc_rank":8,"last_updated":"2021-12-23T13:57:06.000Z","quote":{"USD":{"price":0.9998236596253064,"volume_24h":3412844591.9629517,"volume_change_24h":-1.8648,"percent_change_1h":-0.02838729,"percent_change_24h":0.08047448,"percent_change_7d":-0.03870615,"percent_change_30d":-0.00963757,"percent_change_60d":-0.0755301,"percent_change_90d":-0.04717023,"market_cap":42361215394.30969,"market_cap_dominance":1.8568,"fully_diluted_market_cap":42361215394.31,"last_updated":"2021-12-23T13:57:06.000Z"}}},{"id":4172,"name":"Terra","symbol":"LUNA","slug":"terra-luna","num_market_pairs":107,"date_added":"2019-07-26T00:00:00.000Z","tags":["cosmos-ecosystem","store-of-value","defi","payments","coinbase-ventures-portfolio","binance-labs-portfolio","solana-ecosystem","arrington-xrp-capital-portfolio","hashkey-capital-portfolio","kenetic-capital-portfolio","huobi-capital-portfolio","pantera-capital-portfolio","terra-ecosystem"],"max_supply":null,"circulating_supply":367471188.65727746,"total_supply":839926575.749487,"platform":null,"cmc_rank":9,"last_updated":"2021-12-23T13:57:03.000Z","quote":{"USD":{"price":90.9561281520801,"volume_24h":4426252716.382361,"volume_change_24h":9.5392,"percent_change_1h":3.60724948,"percent_change_24h":-3.50742566,"percent_change_7d":37.41061259,"percent_change_30d":120.42203971,"percent_change_60d":121.3948579,"percent_change_90d":159.75449971,"market_cap":33423756527.70853,"market_cap_dominance":1.465,"fully_diluted_market_cap":76396469262.21,"last_updated":"2021-12-23T13:57:03.000Z"}}},{"id":5805,"name":"Avalanche","symbol":"AVAX","slug":"avalanche","num_market_pairs":122,"date_added":"2020-07-13T00:00:00.000Z","tags":["defi","smart-contracts","binance-smart-chain","polychain-capital-portfolio","avalanche-ecosystem","cms-holdings-portfolio","dragonfly-capital-portfolio"],"max_supply":null,"circulating_supply":243209014.12955046,"total_supply":395347888.12955046,"platform":null,"cmc_rank":10,"last_updated":"2021-12-23T13:56:08.000Z","quote":{"USD":{"price":119.27955418257308,"volume_24h":1265354233.9521413,"volume_change_24h":-13.9733,"percent_change_1h":0.3351428,"percent_change_24h":-1.9865188,"percent_change_7d":9.10902165,"percent_change_30d":-5.59190315,"percent_change_60d":82.22393542,"percent_change_90d":63.28344474,"market_cap":29009862778.555897,"market_cap_dominance":1.2719,"fully_diluted_market_cap":47156919843.11,"last_updated":"2021-12-23T13:56:08.000Z"}}},{"id":6636,"name":"Polkadot","symbol":"DOT","slug":"polkadot-new","num_market_pairs":247,"date_added":"2020-08-19T00:00:00.000Z","tags":["substrate","polkadot","binance-chain","binance-smart-chain","polkadot-ecosystem","three-arrows-capital-portfolio","polychain-capital-portfolio","arrington-xrp-capital-portfolio","blockchain-capital-portfolio","boostvc-portfolio","cms-holdings-portfolio","coinfund-portfolio","fabric-ventures-portfolio","fenbushi-capital-portfolio","hashkey-capital-portfolio","kenetic-capital-portfolio","1confirmation-portfolio","placeholder-ventures-portfolio","pantera-capital-portfolio","exnetwork-capital-portfolio","web3"],"max_supply":null,"circulating_supply":987579314.957085,"total_supply":1103303471.382273,"platform":null,"cmc_rank":11,"last_updated":"2021-12-23T13:56:07.000Z","quote":{"USD":{"price":27.514483177088845,"volume_24h":1446921259.3353825,"volume_change_24h":43.2265,"percent_change_1h":1.39698137,"percent_change_24h":4.4100106,"percent_change_7d":0.96262298,"percent_change_30d":-30.49475551,"percent_change_60d":-35.32093912,"percent_change_90d":-8.42069217,"market_cap":27172734447.427643,"market_cap_dominance":1.1911,"fully_diluted_market_cap":30356824802.57,"last_updated":"2021-12-23T13:56:07.000Z"}}},{"id":74,"name":"Dogecoin","symbol":"DOGE","slug":"dogecoin","num_market_pairs":399,"date_added":"2013-12-15T00:00:00.000Z","tags":["mineable","pow","scrypt","medium-of-exchange","memes","payments","binance-smart-chain","doggone-doggerel"],"max_supply":null,"circulating_supply":132644316641.21294,"total_supply":132644316641.21294,"platform":null,"cmc_rank":12,"last_updated":"2021-12-23T13:57:03.000Z","quote":{"USD":{"price":0.17731941811404364,"volume_24h":1030686542.1627237,"volume_change_24h":46.6732,"percent_change_1h":0.32811851,"percent_change_24h":2.70647248,"percent_change_7d":-2.2117854,"percent_change_30d":-21.7327514,"percent_change_60d":-31.55536088,"percent_change_90d":-14.04057375,"market_cap":23520413042.954834,"market_cap_dominance":1.0309,"fully_diluted_market_cap":23520413042.95,"last_updated":"2021-12-23T13:57:03.000Z"}}},{"id":3890,"name":"Polygon","symbol":"MATIC","slug":"polygon","num_market_pairs":245,"date_added":"2019-04-28T00:00:00.000Z","tags":["platform","enterprise-solutions","state-channel","binance-smart-chain","coinbase-ventures-portfolio","binance-launchpad","binance-labs-portfolio","polygon-ecosystem"],"max_supply":10000000000,"circulating_supply":7086960741.27,"total_supply":10000000000,"platform":null,"cmc_rank":13,"last_updated":"2021-12-23T13:56:09.000Z","quote":{"USD":{"price":2.5504384994239966,"volume_24h":3670131770.7775307,"volume_change_24h":14.4527,"percent_change_1h":0.28897841,"percent_change_24h":0.21760501,"percent_change_7d":17.73976106,"percent_change_30d":59.1588595,"percent_change_60d":62.12423696,"percent_change_90d":127.32610964,"market_cap":18074857518.441433,"market_cap_dominance":0.7925,"fully_diluted_market_cap":25504384994.24,"last_updated":"2021-12-23T13:56:09.000Z"}}},{"id":4687,"name":"Binance USD","symbol":"BUSD","slug":"binance-usd","num_market_pairs":1466,"date_added":"2019-09-20T00:00:00.000Z","tags":["stablecoin","asset-backed-stablecoin","binance-chain","binance-smart-chain","harmony-ecosystem"],"max_supply":null,"circulating_supply":14633196847.5,"total_supply":14633196847.5,"platform":{"id":1839,"name":"Binance Chain (BEP2)","symbol":"BNB","slug":"binance-coin","token_address":"BUSD-BD1"},"cmc_rank":14,"last_updated":"2021-12-23T13:56:08.000Z","quote":{"USD":{"price":1.0000099319159919,"volume_24h":4110511575.853011,"volume_change_24h":-1.8625,"percent_change_1h":-0.00504177,"percent_change_24h":0.07117359,"percent_change_7d":0.0068925,"percent_change_30d":-0.00663194,"percent_change_60d":-0.02346893,"percent_change_90d":-0.03496042,"market_cap":14633342183.181782,"market_cap_dominance":0.6415,"fully_diluted_market_cap":14633342183.18,"last_updated":"2021-12-23T13:56:08.000Z"}}},{"id":3635,"name":"Crypto.com Coin","symbol":"CRO","slug":"crypto-com-coin","num_market_pairs":106,"date_added":"2018-12-14T00:00:00.000Z","tags":["medium-of-exchange","cosmos-ecosystem","centralized-exchange","mobile","payments"],"max_supply":30263013692,"circulating_supply":25263013692,"total_supply":30263013692,"platform":{"id":1027,"name":"Ethereum","symbol":"ETH","slug":"ethereum","token_address":"0xa0b73e1ff0b80914ab6fe0444e65848c4c34450b"},"cmc_rank":15,"last_updated":"2021-12-23T13:56:08.000Z","quote":{"USD":{"price":0.5606672509698358,"volume_24h":212126392.30961215,"volume_change_24h":-11.2281,"percent_change_1h":2.05718021,"percent_change_24h":6.05188785,"percent_change_7d":-1.10945265,"percent_change_30d":-29.87785285,"percent_change_60d":187.27115436,"percent_change_90d":259.88392684,"market_cap":14164144437.906963,"market_cap_dominance":0.6209,"fully_diluted_market_cap":16967480692.76,"last_updated":"2021-12-23T13:56:08.000Z"}}},{"id":5994,"name":"SHIBA INU","symbol":"SHIB","slug":"shiba-inu","num_market_pairs":169,"date_added":"2020-08-01T00:00:00.000Z","tags":["memes","doggone-doggerel"],"max_supply":null,"circulating_supply":369585018257883.7,"total_supply":410256957099011.6,"platform":{"id":1027,"name":"Ethereum","symbol":"ETH","slug":"ethereum","token_address":"0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce"},"cmc_rank":16,"last_updated":"2021-12-23T13:56:10.000Z","quote":{"USD":{"price":0.00003644590217382053,"volume_24h":2300520266.156558,"volume_change_24h":41.6778,"percent_change_1h":0.11282255,"percent_change_24h":3.15736433,"percent_change_7d":7.82277194,"percent_change_30d":-13.79473263,"percent_change_60d":-14.1621626,"percent_change_90d":411.54614116,"market_cap":13469859420.336502,"market_cap_dominance":0.5905,"fully_diluted_market_cap":14952184924.56,"last_updated":"2021-12-23T13:56:10.000Z"}}},{"id":3717,"name":"Wrapped Bitcoin","symbol":"WBTC","slug":"wrapped-bitcoin","num_market_pairs":177,"date_added":"2019-01-30T00:00:00.000Z","tags":["medium-of-exchange","defi","wrapped-tokens","fantom-ecosystem"],"max_supply":null,"circulating_supply":258940.01477772,"total_supply":258940.01477772,"platform":{"id":1027,"name":"Ethereum","symbol":"ETH","slug":"ethereum","token_address":"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599"},"cmc_rank":17,"last_updated":"2021-12-23T13:56:08.000Z","quote":{"USD":{"price":48322.294084879824,"volume_24h":188513764.0786408,"volume_change_24h":-12.8944,"percent_change_1h":0.1986812,"percent_change_24h":0.42989329,"percent_change_7d":-0.29766416,"percent_change_30d":-14.18321868,"percent_change_60d":-20.21046821,"percent_change_90d":15.50104371,"market_cap":12512575544.432114,"market_cap_dominance":0.5485,"fully_diluted_market_cap":12512575544.43,"last_updated":"2021-12-23T13:56:08.000Z"}}},{"id":2,"name":"Litecoin","symbol":"LTC","slug":"litecoin","num_market_pairs":656,"date_added":"2013-04-28T00:00:00.000Z","tags":["mineable","pow","scrypt","medium-of-exchange","binance-chain","binance-smart-chain"],"max_supply":84000000,"circulating_supply":69252582.07067642,"total_supply":84000000,"platform":null,"cmc_rank":18,"last_updated":"2021-12-23T13:57:02.000Z","quote":{"USD":{"price":156.68151758615724,"volume_24h":1189796706.7985497,"volume_change_24h":21.1736,"percent_change_1h":-0.1081391,"percent_change_24h":1.25069174,"percent_change_7d":0.81249844,"percent_change_30d":-25.74784398,"percent_change_60d":-18.8428401,"percent_change_90d":6.2372882,"market_cap":10850599655.593485,"market_cap_dominance":0.4756,"fully_diluted_market_cap":13161247477.24,"last_updated":"2021-12-23T13:57:02.000Z"}}},{"id":7083,"name":"Uniswap","symbol":"UNI","slug":"uniswap","num_market_pairs":268,"date_added":"2020-09-17T00:00:00.000Z","tags":["decentralized-exchange","defi","dao","yield-farming","amm","binance-smart-chain","coinbase-ventures-portfolio","three-arrows-capital-portfolio","governance","blockchain-capital-portfolio","defiance-capital-portfolio","alameda-research-portfolio","a16z-portfolio","pantera-capital-portfolio","parafi-capital","paradigm-portfolio","arbitrum-ecosytem"],"max_supply":1000000000,"circulating_supply":627973179.3754815,"total_supply":1000000000,"platform":{"id":1027,"name":"Ethereum","symbol":"ETH","slug":"ethereum","token_address":"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984"},"cmc_rank":19,"last_updated":"2021-12-23T13:56:10.000Z","quote":{"USD":{"price":16.867986741480305,"volume_24h":408756088.87150156,"volume_change_24h":130.0372,"percent_change_1h":0.23931476,"percent_change_24h":11.02901768,"percent_change_7d":11.71130501,"percent_change_30d":-21.55631753,"percent_change_60d":-35.351439,"percent_change_90d":-12.7008933,"market_cap":10592643263.710855,"market_cap_dominance":0.4644,"fully_diluted_market_cap":16867986741.48,"last_updated":"2021-12-23T13:56:10.000Z"}}},{"id":1975,"name":"Chainlink","symbol":"LINK","slug":"chainlink","num_market_pairs":459,"date_added":"2017-09-20T00:00:00.000Z","tags":["platform","defi","oracles","smart-contracts","substrate","polkadot","binance-smart-chain","polkadot-ecosystem","avalanche-ecosystem","solana-ecosystem","framework-ventures-portfolio","polygon-ecosystem","fantom-ecosystem","cardano-ecosystem","web3","near-protocol-ecosystem"],"max_supply":1000000000,"circulating_supply":467009550.4397637,"total_supply":1000000000,"platform":{"id":1027,"name":"Ethereum","symbol":"ETH","slug":"ethereum","token_address":"0x514910771af9ca656af840dff83e8264ecf986ca"},"cmc_rank":20,"last_updated":"2021-12-23T13:56:12.000Z","quote":{"USD":{"price":21.044915626233728,"volume_24h":1008153601.8078463,"volume_change_24h":59.247,"percent_change_1h":-0.77492387,"percent_change_24h":5.68112887,"percent_change_7d":4.98327653,"percent_change_30d":-20.90664977,"percent_change_60d":-29.47053351,"percent_change_90d":-6.3955492,"market_cap":9828176585.650171,"market_cap_dominance":0.4309,"fully_diluted_market_cap":21044915626.23,"last_updated":"2021-12-23T13:56:12.000Z"}}},{"id":7129,"name":"TerraUSD","symbol":"UST","slug":"terrausd","num_market_pairs":106,"date_added":"2020-09-21T00:00:00.000Z","tags":["stablecoin","binance-smart-chain","terra-ecosystem"],"max_supply":null,"circulating_supply":9544451174.57156,"total_supply":9544451174.57156,"platform":null,"cmc_rank":21,"last_updated":"2021-12-23T13:56:11.000Z","quote":{"USD":{"price":1.001460587173981,"volume_24h":174572938.5197364,"volume_change_24h":-31.4177,"percent_change_1h":-0.03268664,"percent_change_24h":-0.09596812,"percent_change_7d":0.06198143,"percent_change_30d":0.04532375,"percent_change_60d":-0.2191247,"percent_change_90d":-0.17017814,"market_cap":9558391677.539827,"market_cap_dominance":0.4191,"fully_diluted_market_cap":9558391677.54,"last_updated":"2021-12-23T13:56:11.000Z"}}},{"id":4943,"name":"Dai","symbol":"DAI","slug":"multi-collateral-dai","num_market_pairs":413,"date_added":"2019-11-22T00:00:00.000Z","tags":["defi","stablecoin","ethereum-ecosystem","binance-smart-chain","avalanche-ecosystem","polygon-ecosystem","fantom-ecosystem","harmony-ecosystem"],"max_supply":null,"circulating_supply":9303319501.972101,"total_supply":9303319501.972101,"platform":{"id":1027,"name":"Ethereum","symbol":"ETH","slug":"ethereum","token_address":"0x6b175474e89094c44da98b954eedeac495271d0f"},"cmc_rank":22,"last_updated":"2021-12-23T13:56:11.000Z","quote":{"USD":{"price":0.9982301710036601,"volume_24h":496444518.66174495,"volume_change_24h":17.6277,"percent_change_1h":0.04449586,"percent_change_24h":0.05062356,"percent_change_7d":-0.23540701,"percent_change_30d":-0.19242424,"percent_change_60d":-0.17896066,"percent_change_90d":-0.21381384,"market_cap":9286854217.355297,"market_cap_dominance":0.4071,"fully_diluted_market_cap":9286854217.36,"last_updated":"2021-12-23T13:56:11.000Z"}}},{"id":4030,"name":"Algorand","symbol":"ALGO","slug":"algorand","num_market_pairs":145,"date_added":"2019-06-20T00:00:00.000Z","tags":["pos","platform","research","smart-contracts","arrington-xrp-capital-portfolio","kenetic-capital-portfolio","usv-portfolio","multicoin-capital-portfolio","exnetwork-capital-portfolio"],"max_supply":10000000000,"circulating_supply":6350201484.329892,"total_supply":6798767748.014221,"platform":null,"cmc_rank":23,"last_updated":"2021-12-23T13:56:12.000Z","quote":{"USD":{"price":1.3858963726472615,"volume_24h":270798786.84680593,"volume_change_24h":36.1022,"percent_change_1h":0.34173434,"percent_change_24h":1.1211434,"percent_change_7d":-5.16359988,"percent_change_30d":-19.74078277,"percent_change_60d":-24.73483513,"percent_change_90d":-22.80288346,"market_cap":8800721202.712053,"market_cap_dominance":0.3859,"fully_diluted_market_cap":13858963726.47,"last_updated":"2021-12-23T13:56:12.000Z"}}},{"id":1831,"name":"Bitcoin Cash","symbol":"BCH","slug":"bitcoin-cash","num_market_pairs":489,"date_added":"2017-07-23T00:00:00.000Z","tags":["mineable","pow","sha-256","marketplace","medium-of-exchange","store-of-value","enterprise-solutions","payments","binance-chain","binance-smart-chain"],"max_supply":21000000,"circulating_supply":18935275,"total_supply":18935275,"platform":null,"cmc_rank":24,"last_updated":"2021-12-23T13:56:09.000Z","quote":{"USD":{"price":440.55532350504546,"volume_24h":4977934797.457991,"volume_change_24h":1.3645,"percent_change_1h":0.03069044,"percent_change_24h":0.63858991,"percent_change_7d":-2.09022435,"percent_change_30d":-21.36846687,"percent_change_60d":-28.90433485,"percent_change_90d":-12.69808577,"market_cap":8342036203.282,"market_cap_dominance":0.3657,"fully_diluted_market_cap":9251661793.61,"last_updated":"2021-12-23T13:56:09.000Z"}}},{"id":6535,"name":"NEAR Protocol","symbol":"NEAR","slug":"near-protocol","num_market_pairs":69,"date_added":"2020-08-11T00:00:00.000Z","tags":["platform","staking","binance-smart-chain","coinbase-ventures-portfolio","arrington-xrp-capital-portfolio","coinfund-portfolio","electric-capital-portfolio","fabric-ventures-portfolio","kenetic-capital-portfolio","near-protocol-ecosystem","k300-ventures-portfolio"],"max_supply":1000000000,"circulating_supply":595553039,"total_supply":1000000000,"platform":null,"cmc_rank":25,"last_updated":"2021-12-23T13:57:06.000Z","quote":{"USD":{"price":13.91693063667983,"volume_24h":2180402641.5666046,"volume_change_24h":210.9989,"percent_change_1h":-0.35498877,"percent_change_24h":28.4093928,"percent_change_7d":43.35898881,"percent_change_30d":49.09176245,"percent_change_60d":45.45609182,"percent_change_90d":79.1113985,"market_cap":8288270334.226877,"market_cap_dominance":0.3633,"fully_diluted_market_cap":13916930636.68,"last_updated":"2021-12-23T13:57:06.000Z"}}}]}'
    # @my_coins = ['BTC', 'XRP',]
  end

  def about
    @about_Rory = "33 year old"
  end

  def search
    require 'net/http'
    require 'json'
    @url = "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest?start=1&limit=25&convert=USD&CMC_PRO_API_KEY=1e52780b-7036-43cd-be95-524489cf9edd"
    @uri = URI(@url)
    @response = Net::HTTP.get(@uri)
    @search_coin = JSON.parse(@response)

    @symbol = params[:query]

    if @symbol
      @symbol = @symbol.upcase
    end

    if @symbol == ""
      @symbol = "nothing punk"
    end

  end

  private

  def query
    # params.permit(:query)
  end

end
